package templates_templ


// Modal is a base component for all modal dialogs using Alpine.js store for visibility
// - key: unique identifier for the modal's Alpine store
// - title: modal title
// - confirmClose: function code as string that returns true/false to determine if modal can close
templ Modal(title string, openDataName string) {
	<div
		x-show={openDataName}
		x-cloak
		class="modal-overlay"
		x-transition
		@click={openDataName+"=false"}
	>
		<div 
			class="modal-container" 
			@click.stop
		>
			<div class="modal-header">
				<h3>{ title }</h3>
				<button
				@click={openDataName+"=false"}
					type="button"
					class="close-button"
					aria-label="Close"
				>Ã—</button>
			</div>
			<div class="modal-content">
				{ children... }
			</div>
		</div>
	</div>
}


// ModalStyles component contains CSS styles for modal components
templ ModalStyles() {
	<style>
		/* Modal styles */
		.modal-overlay {
			position: fixed;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			background: rgba(0,0,0,0.5);
			display: flex;
			justify-content: center;
			align-items: center;
			z-index: 2000;
		}
		
		.modal-container {
			background: white;
			padding: 20px;
			border-radius: 5px;
			width: 90%;
			max-width: 600px;
			max-height: 90vh;
			overflow-y: auto;
			box-shadow: 0 4px 8px rgba(0,0,0,0.1);
			position: relative;
		}
		
		.modal-header {
			display: flex;
			justify-content: space-between;
			align-items: center;
			margin-top: 0;
			padding-bottom: 10px;
			border-bottom: 1px solid #eee;
			margin-bottom: 15px;
		}
		
		.modal-content {
			max-height: calc(90vh - 140px);
			overflow-y: auto;
		}
		
		.modal-footer {
			display: flex;
			justify-content: flex-end;
			gap: 10px;
			margin-top: 20px;
			padding-top: 15px;
			border-top: 1px solid #eee;
		}
		
		.form-group {
			margin-bottom: 15px;
		}
		
		.form-label {
			display: block;
			margin-bottom: 5px;
			font-weight: 500;
		}
		
		.form-control {
			width: 100%;
			padding: 8px;
			border: 1px solid #ddd;
			border-radius: 4px;
		}
		
		.form-check {
			display: flex;
			align-items: center;
		}
		
		.form-check-label {
			margin-left: 5px;
		}
		
		.close-button {
			background: none;
			border: none;
			font-size: 1.5rem;
			cursor: pointer;
		}
		
		/* Hide elements with x-cloak before Alpine initializes */
		[x-cloak] {
			display: none !important;
		}
	</style>
}
